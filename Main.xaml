<Window x:Class="FlowerShop.WpfClient.Main"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Цветочный"
        SizeToContent="Width"
        MinHeight="800"
        MinWidth="1200"
        MaxWidth="1200"
        Background="#212529"
        ResizeMode="NoResize">
    <Grid Cursor="">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="250"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <GridSplitter Grid.RowSpan="5" Width="1" VerticalAlignment="Stretch" Background="#343a40" IsEnabled="False"/>
        <GridSplitter Grid.Column="1" Grid.Row="1" Height="1" HorizontalAlignment="Stretch" Background="#343a40" IsEnabled="False" Cursor="SizeNS"/>
        <StackPanel Orientation="Horizontal" Margin="10" Cursor="">
            <Image Source="C:\Users\param\source\repos\FloraConnect\Image\Icon.png" MaxHeight="40"/>
            <TextBlock Text="FlowerAdmin" FontSize="20" Margin="20,0,0,0" VerticalAlignment="Center" Foreground="#ced4da"/>
        </StackPanel>
        <StackPanel Grid.Row="1" Grid.RowSpan="3" Orientation="Vertical" Margin="10, 5, 10, 0">
            <RadioButton x:Name="OrdersView" GroupName="FlowerView" Content="Заказы" Style="{StaticResource DefaultButton}" IsChecked="{Binding IsOrdersSelected, Mode=TwoWay}"/>
            <RadioButton x:Name="UsersView" GroupName="FlowerView" Content="Пользователи" Style="{StaticResource DefaultButton}" IsChecked="{Binding IsUsersSelected, Mode=TwoWay}"/>
            <RadioButton x:Name="BouquetsView" GroupName="FlowerView" Content="Букеты" Style="{StaticResource DefaultButton}"/>
        </StackPanel>

        <DockPanel Grid.Column="1" Margin="20,15,20,20">
            <Border DockPanel.Dock="Top" CornerRadius="5" Background="#343a40" BorderThickness="1" BorderBrush="#495057"
                    Margin="0,0,360, 0">
                <TextBox x:Name="SearchBox" Background="Transparent" BorderBrush="Transparent" 
                 Foreground="#ced4da" Padding="10" Text="Поиск"/>
            </Border>
        </DockPanel>
        <Grid Grid.Column="1" Grid.Row="2" Background="{StaticResource BgMuted}">
            <Grid Margin="20" x:Name="OrderGrid">
                <Grid.Style>
                    <Style TargetType="Grid">
                        <Setter Property="Visibility" Value="Collapsed"/>
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding IsChecked, ElementName=OrdersView}" Value="True">
                                <Setter Property="Visibility" Value="Visible"/>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Grid.Style>
                <DockPanel>
                    <DockPanel Margin="0,0,0,20" DockPanel.Dock="Top">
                        <StackPanel Margin="0,0,20,0">
                            <TextBlock Text="Заказы" FontSize="20" Foreground="{StaticResource FgPrimary}" DockPanel.Dock="Top"/>
                            <TextBlock Text="Управление заказами клиентов" FontSize="20" Foreground="{StaticResource FgMuted}" DockPanel.Dock="Bottom"/>
                        </StackPanel>
                        <DockPanel HorizontalAlignment="Right">
                            <Button x:Name="AddOrders" Content="+    Добавить заказ" Style="{StaticResource AddButton}"/>
                        </DockPanel>
                    </DockPanel>
                    <Border Background="{StaticResource BgPrimary}" CornerRadius="10" Padding="10">
                        <DataGrid ItemsSource="{Binding OrdersVM.Orders}" AutoGenerateColumns="False" CanUserAddRows="False" Background="Transparent"
                                ScrollViewer.VerticalScrollBarVisibility="Disabled" ScrollViewer.HorizontalScrollBarVisibility="Disabled" DockPanel.Dock="Bottom">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Id заказа" Binding="{Binding Id}" Width="*"/>
                                <DataGridTextColumn Header="Имя заказчика" Binding="{Binding UserName}" Width="Auto"/>
                                <DataGridTextColumn Header="Цена" Binding="{Binding TotalAmount}" Width="Auto"/>
                                <DataGridTextColumn Header="Статус" Binding="{Binding Status}" Width="Auto"/>
                                <DataGridTextColumn Header="Дата заказа" Binding="{Binding PickupDate}" Width="Auto"/>

                                <DataGridTemplateColumn Header="Действия" Width="*">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                                <Button Content="Детали" Margin="2"/>
                                                <Button Content="Редактировать" Margin="2"/>
                                                <Button Content="Удалить" Margin="2"/>
                                            </StackPanel>
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                            </DataGrid.Columns>
                        </DataGrid>
                    </Border>
                </DockPanel>
            </Grid>
            <Grid Margin="20" x:Name="UserGrid">
                <Grid.Style>
                    <Style TargetType="Grid">
                        <Setter Property="Visibility" Value="Collapsed"/>
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding IsChecked, ElementName=UsersView}" Value="True">
                                <Setter Property="Visibility" Value="Visible"/>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Grid.Style>
                <DockPanel>
                    <DockPanel Margin="0,0,0,20" DockPanel.Dock="Top">
                        <StackPanel Margin="0,0,20,0">
                            <TextBlock Text="Пользователи" FontSize="20" Foreground="{StaticResource FgPrimary}" DockPanel.Dock="Top"/>
                            <TextBlock Text="Управление учетными записями пользователей" FontSize="20" Foreground="{StaticResource FgMuted}" DockPanel.Dock="Bottom"/>
                        </StackPanel>
                        <DockPanel HorizontalAlignment="Right">
                            <Button x:Name="AddUsers" Content="+    Добавить пользователя" Style="{StaticResource AddButton}"/>
                        </DockPanel>
                    </DockPanel>
                    <Border Background="{StaticResource BgPrimary}" CornerRadius="10" Padding="10">
                        <DataGrid ItemsSource="{Binding UsersVM.Users}" AutoGenerateColumns="False" CanUserAddRows="False" Background="Transparent"
                                ScrollViewer.VerticalScrollBarVisibility="Disabled" ScrollViewer.HorizontalScrollBarVisibility="Disabled" DockPanel.Dock="Bottom">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Id пользотваеля" Binding="{Binding UserId}" Width="*"/>
                                <DataGridTextColumn Header="Имя пользоваетеля" Binding="{Binding Username}" Width="Auto"/>
                                <DataGridTextColumn Header="Логин" Binding="{Binding Login}" Width="Auto"/>
                                <DataGridTextColumn Header="Телефон" Binding="{Binding Phone, TargetNullValue='-'}" Width="Auto"/>
                                <DataGridTextColumn Header="Код заказа" Binding="{Binding CodeOrder, TargetNullValue='-'}" Width="Auto"/>

                                <DataGridTemplateColumn Header="Действия" Width="*">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                                <Button Content="Детали" Margin="2"/>
                                                <Button Content="Редактировать" Margin="2"/>
                                                <Button Content="Удалить" Margin="2"/>
                                            </StackPanel>
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                            </DataGrid.Columns>
                        </DataGrid>
                    </Border>
                </DockPanel>
            </Grid>
        </Grid>
    </Grid>
</Window>
